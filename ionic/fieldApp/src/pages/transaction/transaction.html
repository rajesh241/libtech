<ion-header>
  <ion-navbar>
    <ion-item>
      <ion-title item-left>Transaction Details</ion-title>
      <button ion-button item-right default (click)="goHome()">Home</button>
    </ion-item>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <h4>For [{{ key }}]</h4>

  <p><b>Jobcard Number</b>:    {{transaction['jobcard']}}</p>
  <p><b>Worker Name</b>:    {{transaction['name']}}</p>
  <p><b>Muster No.</b>:    {{transaction['musterNo']}}</p>
  <p><b>Work Name</b>:    {{transaction['workName']}}</p>
  <p><b>Total Wage</b>:    {{transaction['totalWage']}}</p>
  <p><b>Wagelist No.</b>:    {{transaction['wagelistNo']}}</p>
  <p><b>FTO No.</b>:    {{transaction['ftoNo']}}</p>
  <p><b>Muster status</b>:    {{transaction['musterStatus']}}</p>
  <p><b>Bank or Post Office Name</b>:    {{transaction['bankNameOrPOName']}}</p>
  <p><b>Muster close date</b>:    {{transaction['dateTo']}}</p>
  <p><b>First signatory date</b>:    {{transaction['firstSignatoryDate']}}</p>
  <p><b>Second signatory date</b>:    {{transaction['secondSignatoryDate']}}</p>
  <p><b>Transaction date</b>:    {{transaction['transactionDate']}}</p>
  <p><b>Bank processed date</b>:    {{transaction['bankProcessedDate']}}</p>
  <p><b>Payment date</b>:    {{transaction['paymentDate']}}</p>
  <p><b>Credited date</b>:    {{transaction['creditedDate']}}</p>
  <p><b>FTO Status</b>:    {{transaction['ftoStatus']}}</p>
  <p><b>Reason for rejection (if rejected)</b>:    {{transaction['rejectionReason']}}</p>

  <ion-card>
    <p><b>Remarks:</b> <input #remarkInput type="textarea" placeholder="{{ transaction['remarks'] }}" (input)="remarks=remarkInput.value; updated=false"> {{ remarks }}</p>
    <p><button ion-button [disabled]="updated" (click)=remarksUpdate()>Update</button></p>
  </ion-card>
  <ion-card *ngIf="transaction['complaint']">
    <p><b>Complaint(s):</b></p>
    <!-- <p><b>Complaint:</b><input #complaintBox type="checkbox" (change)="let xcreateComplaint = complaintBox.checked" [checked]="transaction['complaint']"></p> -->
    <p><b>Description:</b> <input #descInput type="textarea" placeholder="{{ transaction['complaint']['desc'] }}" (input)="complaintDesc=descInput.value"></p>
    <p><button ion-button (click)="createComplaint(transaction['complaint'])">Edit Complaint</button></p>
    <!-- <p><button ion-button [disabled]="complaintUpdated" (click)=complaintUpdate()>Update</button></p> -->
  </ion-card>

  <ion-card *ngIf="!transaction['complaint']">
    <p><b>Complaint(s):</b></p>
    <p><b>Description:</b> <input #descInput type="textarea" placeholder="No complaints yet. File one?" (input)="complaintDesc=descInput.value"></p>
    <p><button ion-button (click)="createComplaint(null)">Create Complaint</button></p>
  </ion-card>


  <!-- To give padding at the bottom (FIXME) -->
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
  <br />
</ion-content>

<ion-footer>
  <ion-item>
    <button ion-button item-left default navPop>Back</button>
    <button ion-button item-right default (click)="goHome()">Home</button>
  </ion-item>
</ion-footer>
